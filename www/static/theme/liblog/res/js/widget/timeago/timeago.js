(function(){var n;n=function(){function t(t,i){this.startInterval=6e4,this.init(t,i)}return t.prototype.init=function(t,i){return this.$element=$(t),this.options=$.extend({},$.fn.timeago.defaults,i),this.updateTime(),this.startTimer()},t.prototype.startTimer=function(){var t;return(t=this).interval=setInterval(function(){return t.refresh()},this.startInterval)},t.prototype.stopTimer=function(){return clearInterval(this.interval)},t.prototype.restartTimer=function(){return this.stopTimer(),this.startTimer()},t.prototype.refresh=function(){return this.updateTime(),this.updateInterval()},t.prototype.updateTime=function(){var i;return(i=this).$element.findAndSelf(this.options.selector).each(function(){var t;return t=i.timeAgoInWords($(this).attr(i.options.attr)),$(this).html(t)})},t.prototype.updateInterval=function(){var t,i,e,n;if(0<this.$element.findAndSelf(this.options.selector).length){if("up"===this.options.dir?t=":first":"down"===this.options.dir&&(t=":last"),n=this.$element.findAndSelf(this.options.selector).filter(t).attr(this.options.attr),i=this.parse(n),0<=(e=this.getTimeDistanceInMinutes(i))&&e<=44&&6e4!==this.startInterval)return this.startInterval=6e4,this.restartTimer();if(45<=e&&e<=89&&132e4!==this.startInterval)return this.startInterval=132e4,this.restartTimer();if(90<=e&&e<=2519&&18e5!==this.startInterval)return this.startInterval=18e5,this.restartTimer();if(2520<=e&&432e5!==this.startInterval)return this.startInterval=432e5,this.restartTimer()}},t.prototype.timeAgoInWords=function(t){var i;return i=this.parse(t),""+this.options.lang.prefixes.ago+this.distanceOfTimeInWords(i)+this.options.lang.suffix},t.prototype.parse=function(t){var i;return i=(i=(i=(i=(i=$.trim(t)).replace(/\.\d\d\d+/,"")).replace(/-/,"/").replace(/-/,"/")).replace(/T/," ").replace(/Z/," UTC")).replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),new Date(i)},t.prototype.getTimeDistanceInMinutes=function(t){var i;return i=(new Date).getTime()-t.getTime(),Math.round(Math.abs(i)/1e3/60)},t.prototype.distanceOfTimeInWords=function(t){var i;return 0===(i=this.getTimeDistanceInMinutes(t))?this.options.lang.prefixes.lt+" "+this.options.lang.units.minute:1===i?"1 "+this.options.lang.units.minute:2<=i&&i<=44?i+" "+this.options.lang.units.minutes:45<=i&&i<=89?this.options.lang.prefixes.about+" 1 "+this.options.lang.units.hour:90<=i&&i<=1439?this.options.lang.prefixes.about+" "+Math.round(i/60)+" "+this.options.lang.units.hours:1440<=i&&i<=2519?"1 "+this.options.lang.units.day:2520<=i&&i<=43199?Math.round(i/1440)+" "+this.options.lang.units.days:43200<=i&&i<=86399?this.options.lang.prefixes.about+" 1 "+this.options.lang.units.month:86400<=i&&i<=525599?Math.round(i/43200)+" "+this.options.lang.units.months:525600<=i&&i<=655199?this.options.lang.prefixes.about+" 1 "+this.options.lang.units.year:655200<=i&&i<=914399?this.options.lang.prefixes.over+" 1 "+this.options.lang.units.year:914400<=i&&i<=1051199?this.options.lang.prefixes.almost+" 2 "+this.options.lang.units.years:this.options.lang.prefixes.about+" "+Math.round(i/525600)+" "+this.options.lang.units.years},t}(),$.fn.timeago=function(e){return null==e&&(e={}),this.each(function(){var t,i;return(i=(t=$(this)).data("timeago"))?"string"==typeof e?i[e]():void 0:t.data("timeago",new n(this,e))})},$.fn.findAndSelf=function(t){return this.find(t).add(this.filter(t))},$.fn.timeago.Constructor=n,$.fn.timeago.defaults={selector:"time.timeago",attr:"datetime",dir:"up",lang:{units:{second:"second",seconds:"seconds",minute:"minute",minutes:"minutes",hour:"hour",hours:"hours",day:"day",days:"days",month:"month",months:"months",year:"year",years:"years"},prefixes:{lt:"less than a",about:"about",over:"over",almost:"almost",ago:""},suffix:" ago"}}}).call(this);